# =============================================================================
# Yalla London Environment Configuration
# =============================================================================
# This file contains all required environment variables for the Yalla London platform.
# Copy this file to .env and update the values with your actual configuration.
# 
# SECURITY NOTE: Never commit .env files to version control!
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection URL
# Format: postgresql://username:password@host:port/database_name
# Required for all database operations
DATABASE_URL=postgresql://username:password@localhost:5432/yalla_london

# Direct database connection URL for migrations and admin operations
# Usually the same as DATABASE_URL but may use different connection parameters
# Required for Prisma migrations and direct database access
DIRECT_URL=postgresql://username:password@localhost:5432/yalla_london

# Shadow database URL for migration testing (optional but recommended)
# Used by Prisma to validate migrations before applying to production
# Format: postgresql://username:password@host:port/shadow_database_name
SHADOW_DATABASE_URL=postgresql://username:password@localhost:5432/yalla_london_shadow

# =============================================================================
# SUPABASE CONFIGURATION (Required for PR #44)
# =============================================================================

# Supabase project URL
# Get this from your Supabase project settings
# Format: https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co

# Supabase service role key (for server-side operations)
# Get this from your Supabase project API settings
# KEEP THIS SECRET - never expose in client-side code
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Supabase anonymous key (for client-side operations)
# Get this from your Supabase project API settings
# This is safe to expose in client-side code
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# NextAuth configuration
# Secret key for JWT tokens and session encryption (REQUIRED - 32+ characters)
NEXTAUTH_SECRET=your-secure-32-character-secret-key-here-change-this

# Application URL for NextAuth callbacks
# Required for OAuth providers and email authentication
NEXTAUTH_URL=http://localhost:3000

# Admin user emails (comma-separated)
# Users with these emails will have admin privileges
ADMIN_EMAILS=admin@yourcompany.com,owner@yourcompany.com

# =============================================================================
# PERFORMANCE MONITORING & ERROR TRACKING
# =============================================================================

# Sentry configuration for error tracking and APM
# Get your DSN from sentry.io project settings
SENTRY_DSN=https://your_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0
SENTRY_SAMPLE_RATE=1.0          # Error sampling rate (0.0 - 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1   # Performance sampling rate (0.0 - 1.0)

# Client-side Sentry configuration (optional)
NEXT_PUBLIC_SENTRY_DSN=https://your_dsn@sentry.io/project_id
NEXT_PUBLIC_SENTRY_ENVIRONMENT=development
NEXT_PUBLIC_SENTRY_SAMPLE_RATE=1.0
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# AWS S3 configuration for automated backups
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_BUCKET_NAME=yalla-london-backups
AWS_FOLDER_PREFIX=backups/

# Backup configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7         # Adjust based on environment (7=dev, 30=staging, 2555=prod)

# =============================================================================
# FEATURE FLAGS & ENTERPRISE FEATURES
# =============================================================================

# Core enterprise features
FEATURE_AUDIT_SYSTEM=true
FEATURE_PERFORMANCE_MONITORING=true
FEATURE_AUTOMATED_BACKUPS=true
FEATURE_RBAC=true

# Security features
FEATURE_SECURITY_SCANNING=true
FEATURE_COMPLIANCE_MONITORING=true
# =============================================================================

# NextAuth secret key (REQUIRED - minimum 32 characters)
# Generate with: openssl rand -base64 32
# Used for JWT signing and session encryption
NEXTAUTH_SECRET=your-super-secure-nextauth-secret-key-here-32-chars-minimum

# Application URL (required for NextAuth callbacks)
# Set to your actual domain in production
NEXTAUTH_URL=http://localhost:3000

# Admin email addresses (comma-separated)
# Users with these emails will have administrative privileges
# Required for accessing admin-only API endpoints and features
ADMIN_EMAILS=admin@yourcompany.com,owner@yourcompany.com,super@yourcompany.com

# Cron job security secret
# Used to authenticate internal cron job endpoints
# Generate with: openssl rand -base64 32
CRON_SECRET=your-secure-cron-secret-for-internal-jobs

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# All feature flags default to 'false' for safe production deployment
# Set to 'true' to enable specific features
# Changes take effect immediately when using /api/feature-flags/refresh

# PR #44 SPECIFIC FEATURE FLAGS
# Phase 4 content management and Supabase integration features
FEATURE_TOPICS_RESEARCH=false
FEATURE_CONTENT_PIPELINE=false
FEATURE_ANALYTICS_DASHBOARD=false
FEATURE_MEDIA_ENRICH=false
FEATURE_BULK_ENRICH=false
FEATURE_PROMPT_CONTROL=false
FEATURE_BACKLINK_OFFERS=false

# CONTENT GENERATION & MANAGEMENT
# Master toggle for Phase 4B content generation pipeline
FEATURE_PHASE4B_ENABLED=false

# Enhanced topic research and AI-powered content suggestions  
FEATURE_ADVANCED_TOPICS=false

# PUBLISHING FEATURES
# Automated daily content publishing to multiple channels
FEATURE_AUTO_PUBLISHING=false

# ANALYTICS FEATURES
# Advanced content performance analytics and reporting dashboard
FEATURE_CONTENT_ANALYTICS=false

# SEO FEATURES  
# SEO optimization tools, meta generation, and search performance tracking
FEATURE_SEO_OPTIMIZATION=false

# SOCIAL MEDIA FEATURES
# Social media content generation, posting, and cross-platform integration
FEATURE_SOCIAL_MEDIA_INTEGRATION=false

# EXPORT FEATURES
# Content export functionality for external platforms (WordPress, CMS, etc.)
FEATURE_EXPORT_WORDPRESS=false

# COMPLIANCE FEATURES
# Comprehensive audit system for regulatory compliance and content governance
FEATURE_AUDIT_SYSTEM=false

# ENTERPRISE FEATURES
# Enterprise-grade features: multi-tenancy, advanced permissions, SSO, etc.
FEATURE_ENTERPRISE_FEATURES=false

# CRON FEATURES
# Advanced job scheduling, monitoring, and automated workflow management
FEATURE_ADVANCED_CRON=false

# =============================================================================
# PRODUCTION READINESS FLAGS (Required for "Good to Go" status)
# =============================================================================

# AI-powered SEO audit functionality (ENABLED FOR PRODUCTION)
FEATURE_AI_SEO_AUDIT=true

# Automated content pipeline and workflow management  
FEATURE_CONTENT_PIPELINE=false

# Internal link suggestions and management
FEATURE_INTERNAL_LINKS=false

# Rich text editor with advanced formatting capabilities
FEATURE_RICH_EDITOR=false

# Homepage builder and customization tools
FEATURE_HOMEPAGE_BUILDER=false

# =============================================================================
# AWS STORAGE CONFIGURATION
# =============================================================================

# AWS credentials for S3 storage and CDN
# Required for media uploads, asset storage, and file management
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# S3 bucket name for storing uploads and media files
# Bucket should be configured with appropriate CORS settings
AWS_BUCKET_NAME=yalla-london-assets

# =============================================================================
# GOOGLE INTEGRATIONS
# =============================================================================

# Google Search Console API credentials (for SEO features)
# Required when FEATURE_SEO_OPTIMIZATION is enabled
GOOGLE_SEARCH_CONSOLE_CLIENT_ID=your-google-client-id
GOOGLE_SEARCH_CONSOLE_CLIENT_SECRET=your-google-client-secret

# Google Analytics configuration (for analytics features)
# Required when FEATURE_CONTENT_ANALYTICS is enabled
GOOGLE_ANALYTICS_ID=GA-XXXXX-X
GOOGLE_ANALYTICS_TRACKING_ID=GA-XXXXX-X
GOOGLE_ANALYTICS_CLIENT_EMAIL=your-service-account@project.iam.gserviceaccount.com
GOOGLE_ANALYTICS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour-private-key-here\n-----END PRIVATE KEY-----"

# =============================================================================
# SOCIAL MEDIA INTEGRATIONS  
# =============================================================================

# Twitter/X API credentials (for social media features)
# Required when FEATURE_SOCIAL_MEDIA_INTEGRATION is enabled
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret
TWITTER_ACCESS_TOKEN=your-twitter-access-token
TWITTER_ACCESS_TOKEN_SECRET=your-twitter-access-token-secret

# Facebook/Meta API credentials (for social media features)
# Required when FEATURE_SOCIAL_MEDIA_INTEGRATION is enabled
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_ACCESS_TOKEN=your-facebook-page-access-token

# LinkedIn API credentials (for social media features)
# Required when FEATURE_SOCIAL_MEDIA_INTEGRATION is enabled
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# =============================================================================
# EMAIL & NEWSLETTER CONFIGURATION
# =============================================================================

# Email service configuration (for notifications and newsletters)
# Choose one: SendGrid, Mailgun, SES, etc.
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourcompany.com

# Alternative: Mailgun configuration
# MAILGUN_API_KEY=your-mailgun-api-key
# MAILGUN_DOMAIN=mg.yourcompany.com

# =============================================================================
# AI PROVIDERS - Multi-Provider Support
# =============================================================================
# Configure one or more AI providers for content generation, topic research,
# and SEO audits. The platform supports automatic fallback between providers.
# You only need ONE provider configured to use AI features.

# -----------------------------------------------------------------------------
# Claude (Anthropic) - Recommended for high-quality content
# Get your API key from: https://console.anthropic.com/
# Models: claude-3-5-sonnet-20241022, claude-3-opus-20240229, claude-3-haiku-20240307
ANTHROPIC_API_KEY=your-anthropic-api-key
# Alternative: CLAUDE_API_KEY=your-anthropic-api-key

# -----------------------------------------------------------------------------
# GPT (OpenAI) - Popular choice with reliable performance
# Get your API key from: https://platform.openai.com/api-keys
# Models: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo
OPENAI_API_KEY=your-openai-api-key

# -----------------------------------------------------------------------------
# Grok (xAI) - Real-time data and analysis
# Get your API key from: https://console.x.ai/
# Models: grok-beta, grok-2-1212
GROK_API_KEY=your-grok-api-key
# Alternative: XAI_API_KEY=your-grok-api-key

# -----------------------------------------------------------------------------
# Gemini (Google) - Multimodal capabilities
# Get your API key from: https://makersuite.google.com/app/apikey
# Models: gemini-1.5-pro, gemini-1.5-flash, gemini-pro
GEMINI_API_KEY=your-gemini-api-key
# Alternative: GOOGLE_AI_API_KEY=your-gemini-api-key

# -----------------------------------------------------------------------------
# Perplexity AI - Best for topic research with real-time search
# Get your API key from: https://www.perplexity.ai/settings/api
# Models: sonar, sonar-pro, llama-3.1-sonar-small-128k-online
PERPLEXITY_API_KEY=your-perplexity-api-key
# Alternative: PPLX_API_KEY=your-perplexity-api-key

# -----------------------------------------------------------------------------
# Abacus.AI - Alternative provider
# Get your API key from: https://abacus.ai/
# Models: gpt-4.1-mini, gpt-4.1, claude-sonnet-4
ABACUSAI_API_KEY=your-abacusai-api-key
ABACUSAI_ENDPOINT=https://api.abacusai.com

# -----------------------------------------------------------------------------
# AI Provider Settings
# Set the default active provider (optional - first configured provider is used)
AI_ACTIVE_PROVIDER=claude
# Options: claude, openai, grok, gemini, perplexity, abacus

# =============================================================================
# WordPress export configuration (for FEATURE_EXPORT_WORDPRESS)
# Used for exporting content to WordPress sites
WORDPRESS_API_BASE_URL=https://your-wordpress-site.com/wp-json/wp/v2
WORDPRESS_USERNAME=your-wp-username
WORDPRESS_APPLICATION_PASSWORD=your-wp-app-password

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application environment
# Values: development, staging, production
NODE_ENV=development

# Log level configuration
# Values: error, warn, info, debug
LOG_LEVEL=info

# Sentry error tracking (optional but recommended for production)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================

# Redis URL for caching and session storage (optional but recommended)
# REDIS_URL=redis://localhost:6379

# CDN configuration for static assets (optional)
# CDN_BASE_URL=https://cdn.yourcompany.com

# =============================================================================
# CI/CD & TESTING CONFIGURATION  
# =============================================================================

# Staging environment URL for Lighthouse CI testing
LHCI_URL_STAGING=https://your-staging-environment.vercel.app

# GitHub App token for enhanced CI reporting (optional)
# LHCI_GITHUB_APP_TOKEN=your-github-app-token

# Build time tracking (automatically set by CI/CD)
# BUILD_TIME=2025-01-01T00:00:00.000Z

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Enable debug mode for development
# DEBUG=yalla:*

# Disable SSL verification for local development (NEVER use in production)
# NODE_TLS_REJECT_UNAUTHORIZED=0

# =============================================================================
# ENVIRONMENT VALIDATION CHECKLIST
# =============================================================================
# Before deploying to a new environment, verify:
# 
# ✓ All database URLs are accessible and correct
# ✓ NEXTAUTH_SECRET is set and secure (32+ characters)
# ✓ ADMIN_EMAILS contains valid administrator email addresses
# ✓ AWS credentials are valid and S3 bucket exists
# ✓ Feature flags are set according to your deployment requirements
# ✓ All required API keys and secrets are configured
# ✓ Email service is configured and tested
# ✓ Social media integrations are tested (if enabled)
# ✓ External service integrations are validated
# ✓ Environment matches NODE_ENV setting
# 
# For runtime feature flag changes, use: POST /api/feature-flags/refresh
# For environment health check, use: GET /api/phase4/status
# =============================================================================